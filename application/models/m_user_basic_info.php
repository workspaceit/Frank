<?phpclass m_user_basic_info extends CI_Model{    function insertRow($rowData)    {        if ($this->db->insert('user_basic_info', $rowData))            return true;        return false;    }    function updateRow_BY_id($id, $rowData)    {        $this->db->where('u_id', $id);        if ($this->db->update('user_basic_info', $rowData))            return true;        return false;    }    function updateRow_BY_u_id($u_email, $rowData)    {        $this->db->where('u_id', $u_email);        if ($this->db->update('user_basic_info', $rowData))            return true;        return false;    }    function get_all_by_u_id($u_id)    {        $this->db->select('*');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        $this->db->limit(1);        return $this->db->get()->result();    }    function get_current_location_one($u_id)    {        $this->db->select('current_location_1');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        $this->db->limit(1);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->current_location_1;        }        return '';    }    function get_first_name_by_u_id($u_id)    {        $this->db->select('f_name');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->f_name;        }        return '';    }    function get_last_name_by_u_id($u_id)    {        $this->db->select('l_name');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->l_name;        }        return '';    }    function get_gender_by_u_id($u_id)    {        $this->db->select('gender');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->gender;        }        return '';    }    function get_birthday_update_view_by_u_id($u_id)    {        $this->db->select('birthday');        $this->db->from('user_basic_info');        $this->db->where('u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->birthday;        }        return '';    }    function get_birthday_by_u_id($u_id)    {        $this->db->select('user_basic_info.birthday as birth_day', false);        $this->db->from('user_basic_info');        $this->db->where('user_basic_info.u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->birth_day;        }        return '';    }    function get_pic_path_by_u_id($u_id)    {        $this->db->select('pic_path');        $this->db->from('user_basic_info');        $this->db->where('user_basic_info.u_id', $u_id);        $this->db->limit(1);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->pic_path;        }        return '';    }    function get_name_by_u_id($u_id)    {        $this->db->select('f_name,l_name');        $this->db->from('user_basic_info');        $this->db->where('user_basic_info.u_id', $u_id);        foreach ($this->db->get()->result() as $rowData) {            return $rowData->f_name . ' ' . $rowData->l_name;        }        return '';    }    function get_name_suggestion($term)    {        $sql = "select				user_basic_info.f_name,				user_basic_info.l_name				from				user_basic_info,				user_login,				developer_activation				where				user_login.id = user_basic_info.u_id and				developer_activation.value = 'active' and				(				f_name like '" . $term . "%' or						l_name like '" . $term . "%'								)								";        // $this->db->order_by("user_basic_info.id");        return $this->db->query($sql)->result();    }    function get_name_email_suggestion($term)    {        $sql = "select				user_basic_info.f_name,				user_basic_info.l_name,				user_login.u_email,				user_login.id				from				user_basic_info,				user_login,				developer_activation				where				user_login.id = user_basic_info.u_id and				developer_activation.value = 'active' and				(				f_name like '" . $term . "%' or						l_name like '" . $term . "%'								)								";        // $this->db->order_by("user_basic_info.id");        return $this->db->query($sql)->result();    }    function get_j_comment_user_inf_by_u_id($u_id)    {        $sql = "select				user_basic_info.pic_path profile_picture,				concat(user_basic_info.f_name,' ',user_basic_info.l_name) full_name,				user_profile_data.current_location_1 location				from				user_basic_info,				user_profile_data				where				user_basic_info.u_id = user_profile_data.u_id and				user_basic_info.u_id = " . $u_id . "						";        return $this->db->query($sql)->result();    }    function get_userinfo_by_search_name($name)    {        $sql = "SELECT * FROM `user_basic_info` AS ubi				LEFT JOIN `user_profile_data` AS upd ON ubi.`u_id`= upd.`u_id`				LEFT JOIN trait_users AS tu ON ubi.`u_id`=tu.`user_id`				LEFT JOIN user_trait_final_values AS utfv ON ubi.u_id = utfv.user_id				WHERE ubi.f_name LIKE '%{$name}%'				OR ubi.l_name LIKE '%{$name}%'				LIMIT 1";        $queryData = $this->db->query($sql);        if ($queryData->num_rows() > 0) {            return $queryData->result();        } else {            return false;        }    }    function get_normal_userinfo_by_search_name($name)    {        $sql = "SELECT                            ul.u_email,                            ul.id,                            ubi.pic_path,                            upd.current_location_1,                            ubi.birthday,                            ubi.f_name,                            ubi.l_name,                            utfv.rank,                            utfv.popularity                         FROM `user_basic_info` AS ubi                        LEFT JOIN `user_profile_data` AS upd ON ubi.`u_id`= upd.`u_id`                        LEFT JOIN user_trait_final_values AS utfv ON ubi.u_id = utfv.user_id                        INNER JOIN user_login AS ul ON  ubi.u_id = ul.id                        WHERE ubi.f_name LIKE '%{$name}%'                        OR ubi.l_name LIKE '%{$name}%' ";        $queryData = $this->db->query($sql);        if ($queryData->num_rows() > 0) {            return $queryData->result();        } else {            return false;        }    }}