<?phpclass admin extends CI_Controller{    private $sign_out;    private $pageData;    private $site_url;    private $u_id;    function __construct(){    	parent::__construct();    	$this->load->helper('url');        $this->pageData=array();	include_once(APPPATH.'controllers/admin_common_site_setting.php');	include_once(APPPATH.'controllers/class_file/site_url.php');        include_once(APPPATH.'controllers/class_file/top_container_inf.php');        if($this->session->userdata('admin_inf')){           $session_data=$this->session->userdata('admin_inf');           $this->u_id=$session_data['u_id'];        }else{            redirect(base_url().'authentication');        }	$this->pageData['sign_out']=&$this->sign_out;        $this->sign_out=TRUE;        include_once(APPPATH . 'controllers/class_file/Profile/C_Aggrigates.php');        $this->load->model('m_user_trait_final_values');        $c_aggrigates = new C_Aggrigates();        $this->pageData['c_aggrigates'] = $c_aggrigates;        $this->pageData['top2_ranked_user'] = $this->m_user_trait_final_values->get_top2_rank_userinfo();        $this->pageData['top3_popular_user'] = $this->m_user_trait_final_values->get_top3_populer_userinfo();    }    function index(){               redirect(base_url().'authentication');    }    function login()    {        $this->load->view('admin_login_view');     }        function dashboard(){        $this->load->model('m_user_login_history');        $this->load->model('m_gossip_main');        $this->pageData['todays_visitor']=$this->m_user_login_history->get_todays_visitor_count();        $this->pageData['todays_gossip']=$this->m_gossip_main->get_todays_gossip_count();        $this->load->view('admin_dashboard_view',$this->pageData);     }    function members(){        $this->load->library('pagination');        $config['base_url'] = base_url().'admin/members';        $this->pagination->initialize($config);        $this->load->model("m_user_login");        $this->load->model("m_user_login_history");        $star_row=0;        $total_row=$this->m_user_login->get_row_size();        $config['base_url'] = base_url().'admin/members';        $config['total_rows'] =$total_row;        $config['per_page'] = 20;                       if($this->uri->segment(3)!=""){            $star_row=intval($this->uri->segment(3));        }                $this->pageData['user_inf']=$this->m_user_login->j_get_user_inf_for_admin($star_row, $config['per_page'] );        foreach($this->pageData['user_inf'] as $rowData){            $this->pageData['login_count'][$rowData->user_id]=$this->m_user_login_history->get_login_count($rowData->user_id);        }              $this->pageData['start_row']=$star_row+1;                $this->pagination->initialize($config);               $this->load->view('admin_member_view',$this->pageData);    }    function website_settings(){        include_once(APPPATH.'controllers/class_file/c_admin.php');        $c_admin_obj=new c_admin();                $this->pageData+=$c_admin_obj->get_dashboard(2);               $this->pageData['ci_site_url']=$this->site_url.'/frank/';        $this->load->view('admin_website_settings_view',$this->pageData);        }       function advertisers(){         $this->load->view('admin_advertiser_view',$this->pageData);    }    function message_templates(){                $this->load->view('admin_message_template_view',$this->pageData);    }    function traits(){        $this->load->model('m_trait_categories');        $this->load->model('m_trait_values');                 $this->pageData['all_data']=$this->m_trait_categories->get_traits_all();        $this->pageData['trait_value']=$this->m_trait_values->get_all();        $this->load->view('admin_traits_view',$this->pageData);    }    function algorithm(){        $this->load->model('m_trait_values');        $this->load->model('m_dynamic_algo_value');        $this->load->model('m_dynamic_algo_equation');        $this->load->model('m_dynamic_algo_sql');                 $this->pageData['algo_j_value']= $this->m_dynamic_algo_value->get_j_all();        $temp_exposed_str="";        $algo_variable=array();        $algo_modifier=array();        $modifier_array=array();        $j=0;        $i=0;        $id=0;                      foreach ($this->pageData['algo_j_value'] as $rowData){            if($temp_exposed_str!=$rowData->exposed_str){                $temp_exposed_str=$rowData->exposed_str;                if($temp_exposed_str==""){                    $modifier_array[$i][0]=$rowData->modifier_id;                    $modifier_array[$i][1]=$rowData->modifier;                    $i++;                }else{                    $algo_modifier[$id]=$modifier_array;                    $modifier_array=array();                    $i=0;                    $modifier_array[$i][0]=$rowData->modifier_id;                    $modifier_array[$i][1]=$rowData->modifier;                    $i++;                }                $algo_variable[$j][0]=$rowData->id;                $algo_variable[$j][1]=$rowData->exposed_str;                $j++;            }else{                $modifier_array[$i][0]=$rowData->modifier_id;                $modifier_array[$i][1]=$rowData->modifier;                $i++;            }                       $id=$rowData->id;        }        $algo_modifier[$id]=$modifier_array;                           //var_dump($algo_variable);die();               $this->pageData['algo_variable']=$algo_variable;        $this->pageData['algo_modifier']=$algo_modifier;                $this->pageData['algo_value']=$this->m_dynamic_algo_value->get_all();                       $this->pageData['algo_equation']=$this->m_dynamic_algo_equation->get_all();        //$this->pageData['algo_modifier']=$this->m_dynamic_algo_sql->get_all();                $this->pageData['traits_value']=$this->m_trait_values->get_all_order_by_rank();        $this->load->view('admin_algorithm_view',$this->pageData);    }    function static_pages_content(){        $this->load->view('admin_static_pages_views',  $this->pageData);    }    function website_settings_submit_update_data(){               $this->site_title=trim($this->input->post('site_title'));           $this->homepage_title=trim($this->input->post('homepage_title'));        $this->site_url=trim($this->input->post('site_url'));        $this->admin_email_address=trim($this->input->post('admin_email_address'));        $this->site_description=trim($this->input->post('site_description'));                include_once(APPPATH.'controllers/class_file/c_admin.php');        $c_admin_obj=new c_admin();        $c_admin_obj->set_site_title($this->site_title);        $c_admin_obj->set_homepage_title($this->homepage_title);        $c_admin_obj->set_site_url($this->site_url);        $c_admin_obj->set_admin_email_address($this->admin_email_address);        $c_admin_obj->set_site_description($this->site_description);                if($c_admin_obj->website_settings_submit_update_data()){            echo  ';True;global_notification;Settings Saved;';        }        else{            echo  ";False;global_notification;Server Error;";        }    }    function view_user_profile()    {        $this->load->model('m_uesr_profile_data_hidden');                include_once(APPPATH.'controllers/class_file/c_information.php');   	$u_id=trim($this->input->get('u_id'));        $c_information_obj=new c_information();               $this->pageData['sign_in']=FALSE;        $this->pageData['sign_up']=FALSE;        $this->pageData['sign_out']=FALSE;        $this->pageData['search']=FALSE;        $this->pageData['home']=FALSE;                $this->pageData['gender']="";        $this->pageData['birthday']="";        $this->pageData['location']="";        $this->pageData['home_town']="";        $this->pageData['high_school']="";        $this->pageData['higher_education']="";        $this->pageData['work_place']="";        $this->pageData['organization']="";        foreach($this->m_uesr_profile_data_hidden->get_all_profule_data_hiden($u_id) as $rowData)        {            $this->pageData['gender']=$rowData->gender;            $this->pageData['birthday']=$rowData->birthday;            $this->pageData['location']=$rowData->location;            $this->pageData['home_town']=$rowData->home_town;            $this->pageData['high_school']=$rowData->high_school ;            $this->pageData['higher_education']=$rowData->higher_education;            $this->pageData['work_place']=$rowData->work_place;            $this->pageData['organization']=$rowData->organization;        }           	$this->pageData+=$c_information_obj->get_user_infomation_by_u_id($u_id);   	                 	   	$this->load->view('admin_view_user_profile_view',$this->pageData);    }    function sign_out(){        $this->session->sess_destroy();	redirect(base_url().'authentication');    }    }?>