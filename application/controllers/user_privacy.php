<?phpclass user_privacy extends CI_Controller{    private $u_id;    private $gender;    private $pageData;    private $site_url;    private $gender_hide_val;    private $birthday_hide_val;    private $location_hide_val;    private $home_town_hide_val;    private $high_school_hide_val;    private $higher_education_hide_val;    private $work_place_hide_val;    private $organization_hide_val;    private $status;    private $confidence;    private $confidence_val;    private $current_confident;    function __construct(){	parent::__construct();	$this->load->helper('url');        $this->pageData=array();        $this->gender_hide_val=0;        $this->birthday_hide_val=0;        $this->location_hide_val=0;        $this->home_town_hide_val=0;        $this->high_school_hide_val=0;        $this->higher_education_hide_val=0;        $this->work_place_hide_val=0;        $this->organization_hide_val=0;        $this->site_url;                $this->confidence=$this->get_percentage_value();        $this->confidence_val=$this->get_confidence_value($this->confidence);        	include_once(APPPATH.'controllers/common_site_setting.php');	include_once(APPPATH.'controllers/class_file/site_url.php');	include_once(APPPATH.'controllers/load_common_properties_of_user.php');            }    function hide_gender()    {           $this->load->model('m_uesr_profile_data_hidden');                $this->gender_hide_val=$this->m_uesr_profile_data_hidden->get_gender($this->u_id);        if($this->gender_hide_val==0)        {            $sign='-';             $this->status=1;            $this->pageData=array(                'gender'=>$this->status            );        }        if($this->gender_hide_val==1)        {               $sign='+';             $this->status=0;            $this->pageData=array(                'gender'=>$this->status            );        }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }    }    function hide_birthday()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->birthday_hide_val=$this->m_uesr_profile_data_hidden->get_birthday($this->u_id);        if($this->birthday_hide_val==0){           $sign='-';            $this->status=1;           $this->pageData=array(                'birthday'=>$this->status            );           }        if($this->birthday_hide_val==1){             $sign='+';            $this->status=0;           $this->pageData=array(                'birthday'=>$this->status           );                       }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }    }    function hide_location()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->location_hide_val=$this->m_uesr_profile_data_hidden->get_location($this->u_id);                if($this->location_hide_val==0)        {               $sign='-';            $this->status=1;            $this->pageData=array(                'location'=>$this->status            );            }                if($this->location_hide_val==1){            $sign='+';            $this->status=0;                $this->pageData=array(                'location'=>$this->status            );           }                              if( $this->update_confidence($sign,$this->confidence_val)) {          if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {              echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);          } else              echo ";False;";      }      else      {          echo ";False;";      }            }    function hide_home_town()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->home_town_hide_val=$this->m_uesr_profile_data_hidden->get_home_town($this->u_id);                if($this->home_town_hide_val==0){            $sign='-';            $this->status=1;            $this->pageData=array(                'home_town'=>$this->status            );            }                  if($this->home_town_hide_val==1){            $sign='+';            $this->status=0;            $this->pageData=array(                'home_town'=>$this->status            );           }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }            }    function hide_high_school()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->high_school_hide_val=$this->m_uesr_profile_data_hidden->get_high_school($this->u_id);        if($this->high_school_hide_val==0){            $sign='-';            $this->status=1;            $this->pageData=array(                'high_school'=>$this->status            );            }                  if($this->high_school_hide_val==1){            $sign='+';            $this->status=0;                $this->pageData=array(                'high_school'=>  $this->status            );           }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }    }    function hide_higher_education()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->higher_education_hide_val=$this->m_uesr_profile_data_hidden->get_higher_education($this->u_id);               if($this->higher_education_hide_val==0){             $sign='-';             $this->status=1;             $this->pageData=array(                 'higher_education'=>  $this->status             );            }                  if($this->higher_education_hide_val==1){            $sign='+';            $this->status=0;            $this->pageData=array(                'higher_education'=>  $this->status            );            }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }            }    function hide_work_place()    {       $this->load->model('m_uesr_profile_data_hidden');       $this->work_place_hide_val=$this->m_uesr_profile_data_hidden->get_work_place($this->u_id);              if($this->work_place_hide_val==0){            $sign='-';            $this->status=1;            $this->pageData=array(                'work_place'=>1            );            }                  if($this->work_place_hide_val==1){            $sign='+';            $this->status=0;            $this->pageData=array(                'work_place'=>  $this->status            );           }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }            }    function hide_organzation()    {        $this->load->model('m_uesr_profile_data_hidden');        $this->organization_hide_val=$this->m_uesr_profile_data_hidden->get_organization($this->u_id);                if($this->organization_hide_val==0){            $sign='-';            $this->status=1;            $this->pageData=array(                'organization'=>  $this->status            );            }                 if($this->organization_hide_val==1){            $sign='+';            $this->status=0;            $this->pageData=array(                'organization'=>  $this->status            );           }        if( $this->update_confidence($sign,$this->confidence_val)) {            if ($this->m_uesr_profile_data_hidden->update_by_u_id($this->u_id, $this->pageData)) {                echo ";True;" . $this->status . ";#user_stats_confidence;" . round($this->current_confident, 1);            } else                echo ";False;";        }        else        {            echo ";False;";        }    }    private function get_percentage_value($c=1){        $percentage=(float)(100*$c)/8; // 8 User Infoamtion         return $percentage;    }    private function get_confidence_value($c=1){        // 18% from intence of personaldata goes in confidence        $confidence_val=(float)(($c*18)/100);        return $confidence_val;    }    private function update_confidence($sign,$confidence_val){        $this->load->model('m_user_trait_final_values');        $col_name="confidence";        $col_val=5;        $temp = $this->m_user_trait_final_values->get_confidence_by_user_id($this->u_id);        if($this->m_user_trait_final_values->change_col_val($this->u_id,$sign,$col_name,$col_val)){            if($this->m_user_trait_final_values->get_confidence_by_user_id($this->u_id)>100)            {                $update_data['confidence']=$temp;                $this->m_user_trait_final_values->update_row_data($this->u_id,$update_data);                return false;            }            if($this->m_user_trait_final_values->get_confidence_by_user_id($this->u_id)<0)            {                $update_data['confidence']=$temp;                $this->m_user_trait_final_values->update_row_data($this->u_id,$update_data);                return false;            }            $this->current_confident=$this->m_user_trait_final_values->get_confidence_by_user_id($this->u_id);            return true;        }else{            return false;        }    }    }?>